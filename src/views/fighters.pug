if (search)
    - var nextUrl = `${url}/fighter/${name}/search`
else
    - var nextUrl = `${url}/fighter`

html
    head
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        meta(http-equiv="Content-Type", content="text/html;charset=UTF-8")
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous")
        link(rel="stylesheet", href="/styles/styles.css")
        title SaltyBet Fighters
    body 
        div#page-content-wrapper
            nav.navbar.navbar-expand-lg.navbar-light.bg-light.border-bottom
                div.container-fluid
                    h1 
                        a(href="/") SaltyBet Fighters
                    div.navbar-collapse#navbarSupportedContent
                        ul.navbar-nav.ms-auto.mt-2.mt-lg-0
                            form.input-group#search
                                input.form-control.rounded#searchbox(type="text", placeholder="Search for fighters")
                                button.btn.btn-outline-primary#submit(type="submit") Search
        if (fighters.length)
            div.container
                ul.list-group
                    each fighter in fighters 
                        li.list-group-item
                            div.col-xs-1 
                                a.page-link(href=`${url}/fighter/${fighter.name}`)
                                    strong #{fighter.name}
                            div.col-xs-2(style=" color: #04850f") wins: #{fighter.wins}
                            div.col-xs-3(style=" color: #e30e1f") losses: #{fighter.losses}
                            div.col-xs-4 winrate: #{fighter.wins/(fighter.wins+fighter.losses)*100}%
            nav(aria-label='Page navigation')
                ul.pagination.justify-content-center
                    if (page === 1)
                        li.page-item.active
                            a.page-link(href=`${nextUrl}/?page=${page}&limit=${limit}`) #{page}
                        li.page-item
                            a.page-link(href=`${nextUrl}/?page=${page+1}&limit=${limit}`) #{page+1}
                        li.page-item
                            a.page-link(href=`${nextUrl}/?page=${page+1}&limit=${limit}`) Next
                    else
                        li.page-item
                            a.page-link(href=`${nextUrl}/?page=${page-1}&limit=${limit}`) Previous
                        li.page-item
                            a.page-link(href=`${nextUrl}/?page=${page-1}&limit=${limit}`) #{page-1}
                        li.page-item.active
                            a.page-link(href=`${nextUrl}/?page=${page}&limit=${limit}`) #{page}
                        li.page-item
                            a.page-link(href=`${nextUrl}/?page=${page+1}&limit=${limit}`) #{page+1}
                        li.page-item
                            a.page-link(href=`${nextUrl}/?page=${page+1}&limit=${limit}`) Next
        else
            div.container
                h2 No fighters found
            if (!search)
                nav(aria-label='Page navigation')
                    ul.pagination.justify-content-center
                        li.page-item
                            a.page-link(href=`${nextUrl}/?page=${page-1}&limit=${limit}`) Previous
                        li.page-item
                            a.page-link(href=`${nextUrl}/?page=1&limit=${limit}`) Page 1
            footer.footer
                div.container
                    span
                        | Items per page: 
                        a(href=`${nextUrl}/?page=${page}&limit=10`) 10   
                        a(href=`${nextUrl}/?page=${page}&limit=50`) 50   
                        a(href=`${nextUrl}/?page=${page}&limit=100`) 100    
    script(src="/scripts/scripts.js")
            
        
